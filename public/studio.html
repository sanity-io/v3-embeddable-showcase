<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg" href="/sanity.svg" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <meta name="robots" content="noindex" />
    <title>Loading...</title>
    <style>
      html,
      body,
      #sanity {
        height: 100%;
        margin: 0;
      }
    </style>
  </head>
  <body>
    <div id="sanity"></div>
    <script type="module">
      // Until enough of Sanity's dependencies of dependencies are ESM we need to use a prebundled package
      // import {renderStudio} from 'https://esm.sh/sanity@dev-preview'
      // import {deskTool} from 'https://esm.sh/sanity@dev-preview/desk'
      import {
        renderStudio,
        deskTool,
      } from 'https://esm.sh/@stipsan/midnight-pegasus'

      const schema = {
        types: [
          {
            name: 'article',
            type: 'document',
            fields: [
              { name: 'title', type: 'string' },
              { name: 'body', type: 'text' },
            ],
          },
        ],
      }

      renderStudio(
        sanity,
        {
          projectId: 'rkndubl4',
          dataset: 'production',
          basePath: '/studio',
          schema,
          plugins: [deskTool()],
        },
        { unstable_noAuthBoundary: true }
      )
    </script>
  </body>
</html>
